const body=document.querySelector(".page__body"),header=body.querySelector(".page-header"),aboutCompanyBlock=body.querySelector(".about-company"),aboutCompanyToggle=aboutCompanyBlock.querySelector(".about-company__button"),modal=body.querySelector(".modal--close"),modalOpenedButton=header.querySelector(".page-header__button"),modalClosedButton=modal.querySelector(".modal__button-close"),inputName=body.querySelector("#modal-user-name"),pageMain=body.querySelector(".page-main"),footer=body.querySelector(".page-footer");body.classList.remove("page__body--nojs"),window.addEventListener("scroll",(()=>{window.scrollY>=1?header.classList.add("page-header--fixed"):header.classList.remove("page-header--fixed")})),getOpenedModal=()=>{modal.style.display="block",body.classList.add("page__body--noscroll"),inputName.focus(),header.setAttribute("inert",""),pageMain.setAttribute("inert",""),footer.setAttribute("inert",""),getClosetModal=()=>{modal.style.display="none",body.classList.remove("page__body--noscroll"),header.removeAttribute("inert"),pageMain.removeAttribute("inert"),footer.removeAttribute("inert"),modalOpenedButton.focus()}},modalOpenedButton.onclick=()=>{getOpenedModal()},modalClosedButton.onclick=()=>{getClosetModal()},window.onclick=e=>{e.target==modal&&getClosetModal()},document.addEventListener("keydown",(e=>{"Escape"===e.key&&getClosetModal()})),aboutCompanyToggle&&aboutCompanyToggle.addEventListener("click",(()=>{aboutCompanyBlock.classList.toggle("about-company--opened")}));const inputTel=body.querySelectorAll(".form__field--tel input");window.addEventListener("DOMContentLoaded",(()=>{[].forEach.call(inputTel,(e=>{var t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var o="+7(___) ___ ____",a=0,n=o.replace(/\D/g,""),l=this.value.replace(/\D/g,""),d=o.replace(/[_\d]/g,(e=>a<l.length?l.charAt(a++)||n.charAt(a):e));-1!=(a=d.indexOf("_"))&&(a<4&&(a=3),d=d.slice(0,a));var r=o.substring(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");(!(r=new RegExp("^"+r+"$")).test(this.value)||this.value.length<4||t>47&&t<58)&&(this.value=d),"blur"==e.type&&this.value.length<4&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)}))}));class ItcAccordion{constructor(e,t){this._el="string"==typeof e?document.querySelector(e):e;this._config=Object.assign({alwaysOpen:!0},t),this.addEventListener()}addEventListener(){this._el.addEventListener("click",(e=>{const t=e.target.closest(".accordion__header");if(t){if(!this._config.alwaysOpen){const e=this._el.querySelector(".accordion__item--show");e&&e!==t.parentElement&&e.classList.toggle("accordion__item--show")}t.parentElement.classList.toggle("accordion__item--show")}}))}}new ItcAccordion(".accordion",{alwaysOpen:!1});