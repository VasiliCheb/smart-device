const body=document.querySelector(".page__body"),header=body.querySelector(".page-header"),aboutCompanyBlock=body.querySelector(".about-company"),aboutCompanyToggle=aboutCompanyBlock.querySelector(".about-company__button"),modal=body.querySelector(".modal--close"),modalOpenedButton=header.querySelector(".page-header__button"),modalClosedButton=modal.querySelector(".modal__button-close"),inputName=body.querySelector("#modal-user-name"),pageMain=body.querySelector(".page-main"),footer=body.querySelector(".page-footer"),inputTel=body.querySelectorAll(".form__field--tel input");body.classList.remove("page__body--nojs");const getOpenedModal=()=>{modal.style.display="block",body.classList.add("page__body--noscroll"),inputName.focus(),header.setAttribute("inert",""),pageMain.setAttribute("inert",""),footer.setAttribute("inert","")},getClosetModal=()=>{modal.style.display="none",body.classList.remove("page__body--noscroll"),header.removeAttribute("inert"),pageMain.removeAttribute("inert"),footer.removeAttribute("inert"),modalOpenedButton.focus()};modalOpenedButton.onclick=()=>{modal.style.display="block",body.classList.add("page__body--noscroll"),inputName.focus(),header.setAttribute("inert",""),pageMain.setAttribute("inert",""),footer.setAttribute("inert","")},modalClosedButton.onclick=()=>{getClosetModal()},window.onclick=e=>{e.target==modal&&getClosetModal()},document.addEventListener("keydown",(e=>{"Escape"===e.key&&getClosetModal()})),aboutCompanyToggle&&aboutCompanyToggle.addEventListener("click",(()=>{aboutCompanyBlock.classList.toggle("about-company--opened")})),window.addEventListener("DOMContentLoaded",(()=>{[].forEach.call(inputTel,(e=>{let t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let o="+7(___) ___ ____",a=0,l=o.replace(/\D/g,""),n=this.value.replace(/\D/g,""),r=o.replace(/[_\d]/g,(e=>a<n.length?n.charAt(a++)||l.charAt(a):e));a=r.indexOf("_"),-1!=a&&(a<4&&(a=3),r=r.slice(0,a));let d=o.substring(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");d=new RegExp("^"+d+"$"),(!d.test(this.value)||this.value.length<4||t>47&&t<58)&&(this.value=r),"blur"==e.type&&this.value.length<4&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)}))}));class ItcAccordion{constructor(e,t){this._el="string"==typeof e?document.querySelector(e):e;this._config=Object.assign({alwaysOpen:!0},t),this.addEventListener()}addEventListener(){this._el.addEventListener("click",(e=>{const t=e.target.closest(".accordion__header");if(t){if(!this._config.alwaysOpen){const e=this._el.querySelector(".accordion__item--show");e&&e!==t.parentElement&&e.classList.toggle("accordion__item--show")}t.parentElement.classList.toggle("accordion__item--show")}}))}}new ItcAccordion(".accordion",{alwaysOpen:!1});